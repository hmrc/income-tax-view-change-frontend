@*
 * Copyright 2022 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import implicits.ImplicitCurrencyFormatter._
@import models.liabilitycalculation.viewmodels.TaxYearSummaryViewModel
@import uk.gov.hmrc.govukfrontend.views.html.components._

@this(govukWarningText : GovukWarningText, govukTabs : GovukTabs)
 @* @(overview: TaxYearSummaryViewModel, taxYear: Int, isFinalCalc: Boolean, isAgent: Boolean, caption: Option[String] = None, origin: Option[String] = None)(implicit messages: Messages) *@
@(taxYear: Int, isFinalCalc: Boolean, isAgent: Boolean, caption: Option[String] = None, origin: Option[String] = None)(implicit messages: Messages)

@pastDayHtml = {
    <h2 class="govuk-heading-l">@messages("tax-year-summary.tax-calculation")</h2>
}

@pastWeekHtml = {
    <h2 class="govuk-heading-l">@messages("tax-year-summary.tax-calculation")</h2>
}

@pastMonthHtml = {
    <h2 class="govuk-heading-l">@messages("tax-year-summary.forecast")</h2>
}

@pastYearHtml = {
    <h2 class="govuk-heading-l">@messages("tax-year-summary.updates")</h2>
}

@if(isFinalCalc){

    @govukTabs(Tabs(
        items = Seq(
            TabItem(
                id = Some("past-week"),
                label = messages("tax-year-summary.tax-calculation"),
                panel = TabPanel(
                    content = HtmlContent(pastWeekHtml)
                )
            ),
            TabItem(
                id = Some("past-month"),
                label = messages("tax-year-summary.forecast"),
                panel = TabPanel(
                    content = HtmlContent(pastMonthHtml)
                )
            ),
            TabItem(
                id = Some("past-year"),
                label = messages("tax-year-summary.updates"),
                panel = TabPanel(
                    content = HtmlContent(pastYearHtml)
                )
            )
        )
    ))

    @* TODO remove it when done with the Tabs component above  *@
    @*<div class="govuk-tabs govuk-tabs-upper-padding" data-module="govuk-tabs">
        @h2(msg = messages("tax-year-summary.contents"), classes = "govuk-tabs__title")
        <ul class="govuk-tabs__list" role="tablist">
            <li class="govuk-tabs__list-item govuk-tabs__list-item--selected" role="presentation">
                <a class="govuk-tabs__tab" href="#taxCalculation" id="tab_taxCalculation" role="tab" aria-controls="taxCalculation" aria-selected="true">
                @messages("tax-year-summary.tax-calculation")
                </a>
            </li>
            @if(showForecastData) {
                <li class="govuk-tabs__list-item" role="presentation">
                    <a class="govuk-tabs__tab" href="#forecast" id="tab_forecast" role="tab" aria-controls="forecast" aria-selected="false">
                    @messages("tax-year-summary.forecast")
                    </a>
                </li>
            }
            <li class="govuk-tabs__list-item" role="presentation">
                <a class="govuk-tabs__tab" href="#payments" id="tab_payments" role="tab" aria-controls="payments" aria-selected="false">
                @messages("tax-year-summary.payments")
                </a>
            </li>
            <li class="govuk-tabs__list-item" role="presentation">
                <a class="govuk-tabs__tab" href="#updates" id="tab_updates" role="tab" aria-controls="updates" aria-selected="false">
                @messages("tax-year-summary.updates")
                </a>
            </li>
        </ul>
        <div class="govuk-tabs__panel" id="taxCalculation" role="tabpanel" aria-labelledby="tab_taxCalculation">
        @taxCalculationContent
        </div>
        @if(showForecastData) {
            <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="forecast" role="tabpanel" aria-labelledby="tab_forecast">
            @forecastContent
            </div>
        }
        <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="payments" role="tabpanel" aria-labelledby="tab_payments">
        @paymentsContent
        </div>
        <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="updates" role="tabpanel" aria-labelledby="tab_updates">
        @updatesContent
        </div>
    </div>*@

}
